{% extends "base.html" %}
{% block title %}Blitz Page{% endblock %}
{% block content %}

<h3 class="mt-5 mb-3 d-flex align-items-center justify-content-between">
    <span>Past Blitzes</span>
</h3>

<h3 class="mt-5 mb-3 d-flex align-items-center justify-content-between">
    <span>Upcoming Blitzes</span>
</h3>
  <div class="card shadow-xs border-0 rounded-4 upcoming-card"
     data-title="How to Steal the Moon"
     data-time="9:41 AM"
     data-location="Poster Hall"
     data-authors="Physics — Lucas Lefevre — Poster"
     data-abstract="This is the whole abstract; it will be scroll-able because that’ll be nice…"
     data-img="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-design-system/assets/img/color-bags.jpg"
     role="button">
  <div class="card-body py-3">
    <div class="d-flex align-items-start gap-3">
      <img src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-design-system/assets/img/color-bags.jpg"
           alt="thumb" class="rounded-3" style="width:56px;height:56px;object-fit:cover;">
      <div class="flex-grow-1">
        <div class="d-flex justify-content-between align-items-start">
          <h6 class="mb-1">Poster: How to Steal the Moon</h6>
          <div class="d-flex align-items-center">
            <span class="badge bg-gray-100 text-secondary me-2">9:41 AM</span>

            <!-- keep your dropdown; stop it from opening the modal -->
            <div class="dropdown" onclick="event.stopPropagation()">
              <button type="button"
                      class="btn btn-sm btn-link text-secondary px-2 mb-0"
                      id="upcMenu1"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      aria-haspopup="true">⋮</button>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="upcMenu1">
                <li><a class="dropdown-item" href="#">View</a></li>
                <li><a class="dropdown-item" href="#">Add to calendar</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="#">Remove</a></li>
              </ul>
            </div>

          </div>
        </div>
        <p class="text-sm text-secondary mb-0">This is a few lines from the abstract…</p>
      </div>
    </div>
  </div>
</div>

<!-- 2) Modal -->
<div class="modal fade" id="sessionModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content rounded-4 border-0">
      <div class="modal-body p-0">
        <!-- Hero header -->
        <div class="p-3 p-md-4 position-relative rounded-top-4"
             style="background:linear-gradient(180deg,#eee,#ddd);">
          <div class="d-flex justify-content-between">
            <div>
              <div class="small text-secondary fw-semibold" id="mTime">9:41 AM</div>
              <div class="small text-secondary" id="mLocation">Poster Hall</div>
            </div>
            <div class="dropdown">
              <button class="btn btn-sm btn-link text-secondary" data-bs-toggle="dropdown">⋮</button>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="#">Share</a></li>
                <li><a class="dropdown-item" href="#">Add to calendar</a></li>
              </ul>
            </div>
          </div>
          <div class="d-flex gap-3 align-items-center mt-3">
            <img id="mImg" src="" alt="" class="rounded-3 d-none d-md-block" style="width:88px;height:88px;object-fit:cover;">
            <div class="flex-grow-1">
              <h5 class="mb-1" id="mTitle">Session title</h5>
              <div class="text-secondary" id="mAuthors">Track — Speaker — Type</div>
            </div>
          </div>
        </div>

        <!-- Scrollable body -->
        <div class="p-4" style="max-height:55vh; overflow:auto;">
          <p class="mb-0" id="mAbstract">
            Full abstract will load here…
          </p>
        </div>

        <!-- Footer -->
        <div class="p-3 d-flex justify-content-end">
          <button class="btn btn-primary rounded-pill px-4">Rate</button>
        </div>
      </div>
    </div>
  </div>
</div>
  <div id="upcoming-container" class="vstack gap-3">
  </div>
  {% endblock %}

  {% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/upcoming.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='js/style.css') }}">
  {% endblock %}