{% extends "base.html" %}
{% block title %}General Dashboard{% endblock %}

{% block content %}

<h3 class="mb-3">Program</h3>

<section class="program-cards">
  <div class="hscroll-mask">
    <div class="row g-4 row-cols-1 row-cols-sm-2 row-cols-lg-3 scroll-row">

      <!-- Blitz Card -->
      <div class="col">
        <a href="{{ url_for('blitz_page') }}" class="card-link-wrapper">
          <div class="card card-plain card-blog h-100">
            <div class="card-image border-radius-lg position-relative overflow-hidden">
              <img
                class="w-100 border-radius-lg move-on-hover shadow"
                src="{{ url_for('static', filename='poster.jpg') }}"
              />
              <div class="card-overlay">
                <h5 class="overlay-title">Blitz</h5>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Presentation Card -->
      <div class="col">
        <a href="{{ url_for('presentation_page') }}" class="card-link-wrapper">
          <div class="card card-plain card-blog h-100">
            <div class="card-image border-radius-lg position-relative overflow-hidden">
              <img
                class="w-100 border-radius-lg move-on-hover shadow"
                src="{{ url_for('static', filename='pres.jpeg') }}"
              />
              <div class="card-overlay">
                <h5 class="overlay-title">Presentation</h5>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Poster Card -->
      <div class="col">
        <a href="{{ url_for('poster_page') }}" class="card-link-wrapper">
          <div class="card card-plain card-blog h-100">
            <div class="card-image border-radius-lg position-relative overflow-hidden">
              <img
                class="w-100 border-radius-lg move-on-hover shadow"
                src="{{ url_for('static', filename='poster.jpg') }}"
              />
              <div class="card-overlay">
                <h5 class="overlay-title">Poster</h5>
              </div>
            </div>
          </div>
        </a>
      </div>

    </div>
  </div>
</section>

<h3 class="mt-5 mb-3 d-flex align-items-center justify-content-between">
  <span>Upcoming</span>
</h3>

<div id="upcoming-container" class="vstack gap-3"></div>

{% endblock %}

{% block scripts %}
{{ super() }}

<script src="{{ url_for('static', filename='js/session-modal.js') }}"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // Load only upcoming presentations
  SessionModal.loadSessions('/api/v1/presentations/recent', '#upcoming-container', 'session-card', 5);

  // Enable modal clicks
  SessionModal.setupDelegatedClicks('#upcoming-container');
});
</script>

{% endblock %}
